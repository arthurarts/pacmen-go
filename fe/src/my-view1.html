<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/google-map/google-map.html">
<link rel="import" href="../bower_components/google-map/google-map-directions.html">
<link rel="import" href="../bower_components/google-map/google-map-marker.html">
<link rel="import" href="../bower_components/google-map/google-map-poly.html">
<link rel="import" href="../bower_components/google-map/google-map-point.html">
<link rel="import" href="../bower_components/geo-location/geo-location.html">

<link rel="import" href="shared-styles.html">

<dom-module id="my-view1">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }

      google-map {
        height: 600px;
      }
    </style>

    <div class="card">
      <div class="circle">1</div>
      <h1>View One</h1>

      <google-map-search map="[[map]]" query="Pizza" results="{{results}}">
      </google-map-search>

      <google-map latitude="51.91667" longitude="4.5" api-key="AIzaSyDaGvdEig57JDplmrPiGsFv9saI9vO959g">

        <google-map-marker latitude="{{latitude}}" longitude="{{longitude}}"
                           title="Pacmen Go!" draggable="true"></google-map-marker>

        <google-map-marker latitude="51.9165" longitude="4.445"
                           title="Pacmen Go!" draggable="true" click-events="true"></google-map-marker>

        <google-map-marker latitude="51.91668" longitude="4.44"
                           title="Pacmen Go!" draggable="true" click-events="true"></google-map-marker>

        <google-map-marker latitude="51.91670" longitude="4.45"
                           title="Pacmen Go!" draggable="true" click-events="true"></google-map-marker>


        <template is="dom-repeat" items="{{results}}" as="marker">
          <google-map-marker latitude="{{marker.latitude}}"
                             longitude="{{marker.longitude}}">
            <h2>{{marker.name}}</h2>
            <span>{{marker.formatted_address}}</span>
          </google-map-marker>
        </template>

      </google-map>

      <geo-location latitude="{{latitude}}" longitude="{{longitude}}"></geo-location>
    </div>

  </template>

  <script>
    class MyView1 extends Polymer.Element {
        static get is() {
            return 'my-view1';
        }

        static get properties() {
            return {
                latitude: {
                    type: Number,
                    notify: true,
                    value: 51.81667

                },
                longitude: {
                    type: Number,
                    notify: true,
                    value: 4.4
                }
            }
        }

        ready() {
            this.addEventListener('google-map-marker-click', this.markerClicked);
            super.ready();
        }

        markerClicked(events) {
            alert('hi');
        }

    }
    window.customElements.define(MyView1.is, MyView1);
  </script>
</dom-module>
